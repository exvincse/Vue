webpackJsonp([1],{Iwsw:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("mtWM"),r=a.n(i),n=a("Rf8U"),o=a.n(n),l=a("ZZvs"),c=a.n(l),d=a("sUu7"),u=(a("SYh3"),a("K3J8"),a("ao2D"),a("1SbN")),p=a.n(u),v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var m=a("VU/8")({},v,!1,function(t){a("ioZz")},null,null).exports,h=a("/ocq"),_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{staticStyle:{"z-index":"9999"},attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn btn-cart btn-sm text-white",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.show=!t.show}}},[t._m(0),t._v(" "),a("span",{staticClass:"badge badge-pill badge-danger number"},[t._v(t._s(t.cartlength))])]),t._v(" "),t.show?a("div",{staticClass:"dropdown-menu mt-2 d-block"},[a("div",{staticClass:"px-4 py-3"},[t.getProduct.length?a("div",[a("h5",[t._v("已選擇商品")]),t._v(" "),a("div",{staticClass:"table-reponsuve"},[a("table",{staticClass:"table"},[a("tbody",t._l(t.getProduct,function(e){return a("tr",{key:e.id},[a("td",[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{"data-toggle":"modal","data-target":"#del",disabled:t.isdisabled},on:{click:function(a){return t.removeCart(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),a("td",[t._v(t._s(e.product.title))]),t._v(" "),a("td",[t._v(t._s(e.qty)+" "+t._s(e.product.unit))]),t._v(" "),e.product.price?a("td",{staticClass:"text-right"},[t._v("$"+t._s(e.product.price*e.qty))]):a("td",{staticClass:"text-right"},[t._v("$"+t._s(e.product.origin_price*e.qty))])])}),0)])]),t._v(" "),a("div",[a("router-link",{staticClass:"btn btn-primary btn-block",attrs:{to:"/cart"}},[a("i",{staticClass:"fas fa-cart-arrow-down"}),t._v("\n              結帳去")])],1)]):a("div",[a("h5",[t._v("無任何商品")]),t._v(" "),a("router-link",{staticClass:"btn btn-danger btn-block",attrs:{to:"/products"}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v("\n            看商品")])],1)])]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cart"},[e("i",{staticClass:"fas fa-shopping-cart fa-2x"})])}]};var g={components:{smallcart:a("VU/8")({data:function(){return{isdisabled:!1,show:!1,getProduct:[],isLoading:!1}},computed:{cartlength:function(){return this.getProduct.length}},created:function(){var t=this;this.getCart(),this.$getcart.$on("get",function(){t.getCart()})},beforeDestroy:function(){var t=this;this.$getcart.$off("get",function(){t.getCart()})},methods:{getCart:function(){var t=this;this.isdisabled=!0,this.$http.get("https://vue-course-api.hexschool.io/api/yang/cart").then(function(e){e.data.success&&(t.getProduct=e.data.data.carts),t.isdisabled=!1})},removeCart:function(t){var e=this;this.isLoading=!0;var a="https://vue-course-api.hexschool.io/api/yang/cart/"+t;this.$http.delete(a).then(function(t){t.data.success&&(e.getCart(),e.$bus.$emit("message:push",t.data.message+"商品","danger")),e.isLoading=!1})}}},_,!1,function(t){a("WqwM")},null,null).exports}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav-fixed"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light justify-content-between",staticStyle:{"background-color":"#3c3c3c"}},[a("router-link",{staticClass:"text-white",attrs:{to:"/index"}},[a("i",{staticClass:"fas fa-lemon fa-2x"})]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-lg-block d-none"},[a("ul",{staticClass:"navbar-nav ml-auto h6"},[a("li",{staticClass:"l-nav-item px-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{"exact-active-class":"l-active",to:"/index"}},[t._v("首頁")])],1),t._v(" "),a("li",{staticClass:"l-nav-item px-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{"exact-active-class":"l-active",to:"/products"}},[t._v("商品")])],1),t._v(" "),a("li",{staticClass:"px-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{to:"/login"}},[t._v("後台")])],1)])]),t._v(" "),a("div",{staticClass:"d-flex"},[a("smallcart",{staticClass:"mr-2"}),t._v(" "),t._m(0)],1)]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"ClientNav"}},[a("ul",{staticClass:"navbar-nav ml-auto h6"},[a("li",{staticClass:"l-nav-item p-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{"exact-active-class":"l-active",to:"/index"}},[t._v("首頁")])],1),t._v(" "),a("li",{staticClass:"l-nav-item p-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{"exact-active-class":"l-active",to:"/products"}},[t._v("商品")])],1),t._v(" "),a("li",{staticClass:"p-2 mr-3"},[a("router-link",{staticClass:"nav-link l-border",attrs:{to:"/login"}},[t._v("後台")])],1)])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#ClientNav"}},[e("i",{staticClass:"fas fa-bars text-white"})])}]},C=a("VU/8")(g,f,!1,null,null,null).exports,b={name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout(function(){e.messages.forEach(function(a,s){a.timestamp===t&&e.messages.splice(s,1)})},5e3)}},created:function(){var t=this;this.$bus.$on("message:push",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)})},beforeDestroy:function(){var t=this;this.$bus.$off("message:push",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)})}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),a("button",{staticClass:"close",staticStyle:{top:"-4px"},attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},staticRenderFns:[]};var y=a("VU/8")(b,x,!1,function(t){a("Iwsw")},null,null).exports,w={components:{alert:y,navbar:C}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("alert"),this._v(" "),e("navbar"),this._v(" "),e("router-view"),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"p-5",staticStyle:{"background-color":"#3c3c3c"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"text-white"},[t._v("\n              02-1111-2222"),a("br"),t._v("\n            12345678@email.com"),a("br"),t._v("\n            364 苗栗縣大湖鄉水果路 111 號\n           ")])]),t._v(" "),a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"text-lg-right text-left mt-lg-0 mt-4 mb-2"},[a("a",{staticClass:"mr-2 text-white",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-facebook-square fa-2x"})]),t._v(" "),a("a",{staticClass:"mr-2 text-white",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-instagram fa-2x"})]),t._v(" "),a("a",{staticClass:"mr-2 text-white",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-github fa-2x"})])]),t._v(" "),a("div",{staticClass:"text-lg-right text-left text-white"},[a("span",[t._v("以上僅學習參考用，無任何商業用途")])])])])])])])}]},k=a("VU/8")(w,$,!1,null,null,null).exports,P=a("fZjL"),L=a.n(P),E={data:function(){return{isLoading:!1,loadingitem:"",orders:[],ary:[],product:[],total_sort:[]}},created:function(){this.get(),this.getProducts()},methods:{get:function(t){var e=this,a=t||1;this.orders=[],this.isLoading=!0;var s="https://vue-course-api.hexschool.io/api/yang/orders?page="+a;this.$http.get(s).then(function(t){if(!1===t.data.success)e.isLoading=!1;else{for(var a=t.data.pagination.total_pages,s=function(t){var a="https://vue-course-api.hexschool.io/api/yang/orders?page="+t;setTimeout(function(){e.$http.get(a).then(function(t){t.data.orders.forEach(function(t){t.is_paid&&(t.create_at=Number(1e3*t.create_at),e.orders.push(t))})}).catch(function(t){console.log(t)})},80*t)},i=1;i<=a;i++)s(i);e.ary=e.orders,setTimeout(function(){e.sort(),e.isLoading=!1},180*a)}})},getProducts:function(t){var e=this;this.product=[];var a="https://vue-course-api.hexschool.io/api/yang/products?page="+(t||1);this.$http.get(a).then(function(t){for(var a=t.data.pagination.total_pages,s=function(t){var a="https://vue-course-api.hexschool.io/api/yang/products?page="+t;setTimeout(function(){e.$http.get(a).then(function(t){t.data.products.forEach(function(t){e.product.push(t)})})},60*t)},i=1;i<=a;i++)s(i)})},sort:function(){var t=[],e=[];this.total_sort=[],this.ary.forEach(function(e){L()(e.products).forEach(function(a){t.push(e.products[a])})}),this.product.forEach(function(a,s){var i=a.title,r=s;e.push({product:a,total_num:0}),t.forEach(function(t){-1!==i.indexOf(t.product.title)&&(e[r].total_num+=t.qty)})}),e.sort(function(t,e){return e.total_num-t.total_num});for(var a=0;a<=2;a++)this.total_sort.push(e[a])},addtoCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingitem=t;var s={data:{product_id:t,qty:a}};this.$http.post("https://vue-course-api.hexschool.io/api/yang/cart",s).then(function(t){t.data.success?e.$bus.$emit("message:push",t.data.message,"success"):e.$bus.$emit("message:push",t.data.message,"danger"),e.$getcart.$emit("get"),e.loadingitem=""})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{staticStyle:{"z-index":"9999","overflow-y":"hidden"},attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("section",{staticClass:"my-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"col-lg-10 mx-auto"},[t.orders?a("div",[a("div",{staticClass:"row"},t._l(t.total_sort,function(e){return a("div",{key:e.product.id,staticClass:"col-lg-4 col-md-6 mb-3 mb-md-0"},[e.product.is_enabled?[a("div",{staticClass:"card"},[a("div",{staticClass:"card-position"},[a("div",{staticClass:"bg-cover",staticStyle:{height:"220px"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),t._v(" "),a("span",{staticClass:"bg-primary text-white p-2 l-top"},[t._v("暢銷商品")])]),t._v(" "),a("div",{staticClass:"d-flex text-center"},[a("div",{staticClass:"col-7"},[a("div",{staticClass:"border-right py-3 text-tea"},[a("strong",{staticClass:"h5"},[t._v(t._s(e.product.title))])])]),t._v(" "),a("div",{staticClass:"col-5"},[a("div",{staticClass:"py-3 text-tea"},[e.product.origin_price?t._e():a("strong",{staticClass:"h5"},[t._v(t._s(e.product.price)+" 元")]),t._v(" "),e.product.origin_price?a("strong",{staticClass:"h6"},[t._v(t._s(e.product.origin_price)+" 元")]):t._e()])])]),t._v(" "),a("a",{staticClass:"btn btn-lwheat btn-lg l-btn",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addtoCart(e.product.id)}}},[a("span",{staticClass:"h4 font-weight-bold text-tea"},[t.loadingitem===e.product.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                      加入購物車")])])])]:t._e()],2)}),0)]):t._e()])])])],1)},staticRenderFns:[]},N={components:{alert:y,topProduct:a("VU/8")(E,D,!1,null,null,null).exports},data:function(){return{left:!1,right:!1}},mounted:function(){window.addEventListener("scroll",this.scroll)},destroyed:function(){window.removeEventListener("scroll",this.scroll)},methods:{scroll:function(){if(!0===this.left&&!0===this.right)return window.removeEventListener("scroll",this.scroll),!1;var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.querySelector(".layout-left").offsetTop,a=document.querySelector(".layout-right").offsetTop;t>=e/2&&(this.left=!0),t>=a/2&&(this.right=!0)}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("section",{staticClass:"p-4",staticStyle:{"background-color":"#fff3ee"}},[a("div",{staticClass:"container"},[t._m(1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"over mb-4"},[a("div",{staticClass:"layout-left",class:{show:t.left},attrs:{id:"layout"}},[t._m(2)])]),t._v(" "),a("div",{staticClass:"over"},[a("div",{staticClass:"layout-right",class:{show:t.right},attrs:{id:"layout"}},[t._m(3)])])])])]),t._v(" "),a("topProduct")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"bg-cover vh-100",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1528025395519-c75c01dce62a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1047&q=80')",position:"relative"}},[e("div",{staticClass:"py-5 px-4 text-center l-header d-lg-block d-none"},[e("h2",[this._v("不可錯過")]),this._v(" "),e("span",{staticClass:"h5"},[this._v("因產季問題，不快點是吃不到的，錯過必須等上一輩子")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-center text-lg-left"},[a("div",{staticClass:"col-lg-4 p-4"},[a("div",{staticClass:"d-flex flex-column"},[a("i",{staticClass:"fas fa-tractor fa-3x mb-2"}),t._v(" "),a("h2",[t._v("有機栽種")]),t._v(" "),a("p",[t._v("屏除農藥、化學肥料、基因改造作物、植物生長調節劑等非天然物質的使用。是一個無論是土壤、生態體系及人類三者的健康均能夠維持永續（可持續發展）的生產系統。這系統有賴生態上的過程、多元性及適應當地環境的循環，用以克服各種發展上的困難，而不是仰賴外間的介入")])])]),t._v(" "),a("div",{staticClass:"col-lg-4 p-4"},[a("div",{staticClass:"d-flex flex-column"},[a("i",{staticClass:"fas fa-cocktail fa-3x mb-2"}),t._v(" "),a("h2",[t._v("天然現榨")]),t._v(" "),a("p",[t._v("新鮮水果或蔬菜為原料，經過挑選，邱喜消毒，漂洗，瀝乾，整理，機械榨汁而成的不經任何殺菌處理，提供就餐顧客飲用的非定型包裝飲料。")])])]),t._v(" "),a("div",{staticClass:"col-lg-4 p-4"},[a("div",{staticClass:"d-flex flex-column"},[a("i",{staticClass:"fas fa-tint-slash fa-3x mb-2"}),t._v(" "),a("h2",[t._v("無噴灑農藥")]),t._v(" "),a("p",[t._v("您知道每次噴灑農藥，當中只有很少一部分真正用於除蟲嗎？其餘絕大部分的農藥，卻全部成為環境污染物，滲進土裡、流到水裡、揮發於空氣中，不僅威脅到生物多樣性，最終還可經由各種型態進入人體，危害我們的健康。")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-lg-row flex-column-reverse"},[e("div",{staticClass:"col-lg-4"},[e("p",[this._v("屏除農藥、化學肥料、基因改造作物、植物生長調節劑等非天然物質的使用。是一個無論是土壤、生態體系及人類三者的健康均能夠維持永續（可持續發展）的生產系統。這系統有賴生態上的過程、多元性及適應當地環境的循環，用以克服各種發展上的困難，而不是仰賴外間的介入。\n                  您知道每次噴灑農藥，當中只有很少一部分真正用於除蟲嗎？其餘絕大部分的農藥，卻全部成為環境污染物，滲進土裡、流到水裡、揮發於空氣中，不僅威脅到生物多樣性，最終還可經由各種型態進入人體，危害我們的健康。\n                ")])]),this._v(" "),e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"bg-cover",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1507821455154-622e65d8ed08?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=600&q=60')",height:"420px",width:"100%"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-lg-row flex-column"},[e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"bg-cover",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1527821872005-c9b7adec9302?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=600&q=80')",height:"420px",width:"100%"}})]),this._v(" "),e("div",{staticClass:"col-lg-4"},[e("p",[this._v("屏除農藥、化學肥料、基因改造作物、植物生長調節劑等非天然物質的使用。是一個無論是土壤、生態體系及人類三者的健康均能夠維持永續（可持續發展）的生產系統。這系統有賴生態上的過程、多元性及適應當地環境的循環，用以克服各種發展上的困難，而不是仰賴外間的介入。\n                  您知道每次噴灑農藥，當中只有很少一部分真正用於除蟲嗎？其餘絕大部分的農藥，卻全部成為環境污染物，滲進土裡、流到水裡、揮發於空氣中，不僅威脅到生物多樣性，最終還可經由各種型態進入人體，危害我們的健康。\n                ")])])])}]},q=a("VU/8")(N,M,!1,null,null,null).exports,U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("登入")]),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",name:"email",placeholder:"Email address",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t._v(" "),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e(),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control mb-0",attrs:{type:"password",id:"inputPassword",name:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),t.errors.has("password")?a("span",{staticClass:"text-danger"},[t._v("密碼不得為空")]):t._e(),t._v(" "),t._m(0),t._v(" "),t.message?a("div",{staticClass:"text-danger text-center mb-3"},[t._v(t._s(t.message))]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登入")]),t._v(" "),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2019")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"checkbox mt-3"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1"}}),this._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"customCheck1"}},[this._v("記住我")])])])}]};var F=a("VU/8")({data:function(){return{user:{username:"",password:""},message:"",isLoading:!1}},methods:{signin:function(){var t=this;this.$validator.validate().then(function(e){e&&(t.isLoading=!0,t.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(e){e.data.success?t.$router.push("/admin/products"):t.message=e.data.message,t.isLoading=!1}))})}}},U,!1,function(t){a("bmPI")},"data-v-ed0eec32",null).exports,S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{staticStyle:{"z-index":"9999"},attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[a("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v("控制面板")]),t._v(" "),a("ul",{staticClass:"navbar-nav px-3"},[a("li",{staticClass:"nav-item text-nowrap"},[a("a",{staticClass:"btn btn-Lorange",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loginout()}}},[t._v("登出")])])])])],1)},staticRenderFns:[]},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[e("div",{staticClass:"sidebar-sticky"},[this._m(0),this._v(" "),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("i",{staticClass:"fas fa-box-open"}),this._v("\n            產品列表\n          ")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orderlist"}},[e("i",{staticClass:"far fa-list-alt"}),this._v("\n            訂單列表\n          ")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[e("i",{staticClass:"fas fa-money-bill-alt"}),this._v("\n            優惠卷\n          ")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[this._v("管理員")]),this._v(" "),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])}]},R={components:{navbar:a("VU/8")({data:function(){return{isLoading:!1}},methods:{loginout:function(){var t=this;this.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(e){e.data.success&&t.$router.push("/login"),t.isLoading=!1})}}},S,!1,null,null,null).exports,sidebar:a("VU/8")({},T,!1,null,null,null).exports,alert:y}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("navbar"),this._v(" "),e("alert"),this._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("sidebar"),this._v(" "),e("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[e("router-view")],1)],1)])],1)},staticRenderFns:[]},A=a("VU/8")(R,V,!1,null,null,null).exports,O=a("woOf"),j=a.n(O),H=a("7t+N"),W=a.n(H),I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.get(t.pagination.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pagination.total_pages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.pagination.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.get(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.get(t.pagination.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"\n             true"}},[t._v("»")])])])],2)])])},staticRenderFns:[]},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempproduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.DeleteData()}}},[t._v("確認刪除")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("刪除產品")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},z={props:["tempproduct","status"],watch:{tempproduct:function(){this.errors.clear()}},methods:{uploadFile:function(){var t=this,e=this.$refs.files.files[0],a=new FormData;a.append("file-to-upload",e),this.status.fileUploading=!0;this.$http.post("https://vue-course-api.hexschool.io/api/yang/admin/upload",a,{header:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data.success?(t.$set(t.tempproduct,"imageUrl",e.data.imageUrl),t.status.fileUploading=!1):t.$bus.$emit("message:push",e.data.message,"danger")})},updateproduct:function(){var t=this;this.$validator.validate().then(function(e){e&&t.$emit("updateproduct")})}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t.tempproduct.id?a("div",{staticClass:"modal-header bg-warning text-white"},[t._m(0),t._v(" "),t._m(1)]):a("div",{staticClass:"modal-header bg-primary text-white"},[t._m(2),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.imageUrl,expression:"tempproduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempproduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"imageUrl",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                  "),t.status.fileUploading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),t._v(" "),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),a("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:"",src:t.tempproduct.imageUrl}})]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.title,expression:"tempproduct.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title",placeholder:"請輸入標題"},domProps:{value:t.tempproduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"title",e.target.value)}}}),t._v(" "),t.errors.has("title")?a("span",{staticClass:"text-danger"},[t._v("標題不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.category,expression:"tempproduct.category"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"category",name:"category",placeholder:"請輸入分類"},domProps:{value:t.tempproduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"category",e.target.value)}}}),t._v(" "),t.errors.has("category")?a("span",{staticClass:"text-danger"},[t._v("分類不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.unit,expression:"tempproduct.unit"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",name:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempproduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"unit",e.target.value)}}}),t._v(" "),t.errors.has("unit")?a("span",{staticClass:"text-danger"},[t._v("單位不得為空")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.origin_price,expression:"tempproduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempproduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"origin_price",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.price,expression:"tempproduct.price"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"number",id:"price",name:"price",placeholder:"請輸入售價"},domProps:{value:t.tempproduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"price",e.target.value)}}}),t._v(" "),t.errors.has("price")?a("span",{staticClass:"text-danger"},[t._v("售價不得為空")]):t._e()])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.description,expression:"tempproduct.description"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"description",name:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempproduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"description",e.target.value)}}}),t._v(" "),t.errors.has("description")?a("span",{staticClass:"text-danger"},[t._v("產品描述不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.content,expression:"tempproduct.content"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"content",name:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempproduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"content",e.target.value)}}}),t._v(" "),t.errors.has("content")?a("span",{staticClass:"text-danger"},[t._v("內容不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"checkbox"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.is_enabled,expression:"tempproduct.is_enabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempproduct.is_enabled)?t._i(t.tempproduct.is_enabled,null)>-1:t._q(t.tempproduct.is_enabled,1)},on:{change:function(e){var a=t.tempproduct.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.tempproduct,"is_enabled",a.concat([null])):r>-1&&t.$set(t.tempproduct,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempproduct,"is_enabled",i)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"is_enabled"}},[t._v("\n                        是否啟用\n                      ")])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.updateproduct}},[t._v("確認")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("編輯產品")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("新增產品")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},Q={components:{getpages:a("VU/8")({props:["pagination"],methods:{get:function(t){this.$emit("getProducts",t)}}},I,!1,null,null,null).exports,Delete:a("VU/8")({props:["tempproduct"],methods:{DeleteData:function(){this.$emit("delData")}}},Y,!1,null,null,null).exports,AddEdit:a("VU/8")(z,J,!1,null,null,null).exports},data:function(){return{products:[],tempproduct:{},pagination:{},isNew:!1,isLoading:!1,status:{fileUploading:!1}}},created:function(){this.getProducts()},methods:{getProducts:function(t){var e=this,a=t||1;this.isLoading=!0;var s="https://vue-course-api.hexschool.io/api/yang/admin/products?page="+a;this.$http.get(s).then(function(t){e.isLoading=!1,e.products=t.data.products,e.pagination=t.data.pagination})},openModal:function(t,e){t?(this.tempproduct={},this.isNew=!0):(this.tempproduct=j()({},e),this.isNew=!1),W()("#productModal").modal("show")},updateproduct:function(){var t=this;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/yang/admin/product",a="post";this.isNew||(e="https://vue-course-api.hexschool.io/api/yang/admin/product/"+this.tempproduct.id,a="put"),this.$http[a](e,{data:this.tempproduct}).then(function(e){e.data.success?(W()("#productModal").modal("hide"),t.getProducts(),t.$bus.$emit("message:push",e.data.message,"success")):(W()("#productModal").modal("hide"),t.getProducts(),t.$bus.$emit("message:push",e.data.message,"danger")),t.isLoading=!1})},delModal:function(t){this.tempproduct=j()({},t),W()("#delProductModal").modal("show")},delData:function(){var t=this;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/yang/admin/product/"+this.tempproduct.id;this.$http.delete(e).then(function(e){e.data.success?(W()("#delProductModal").modal("hide"),t.getProducts(),t.$bus.$emit("message:push",e.data.message,"success")):(W()("#delProductModal").modal("hide"),t.getProducts(),t.$bus.$emit("message:push",e.data.message,"danger")),t.isLoading=!1})}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{staticStyle:{"z-index":"9999"},attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"text-right mt-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal(!0)}}},[t._v("建立新的產品")])]),t._v(" "),t.products?a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table mt-4"},[t._m(0),t._v(" "),t.products?a("tbody",t._l(t.products,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(e.origin_price))+"\n            ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n              "+t._s(t._f("currency")(e.price))+"\n            ")]),t._v(" "),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),t._v(" "),a("td",{staticStyle:{width:"150px"}},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal(!1,e)}}},[t._v("編輯")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.delModal(e)}}},[t._v("刪除")])])])])}),0):t._e()]),t._v(" "),a("getpages",{attrs:{pagination:t.pagination},on:{getProducts:t.getProducts}})],1)]):a("div",{staticClass:"h1 text-center"},[t._v("請建立商品")]),t._v(" "),a("AddEdit",{attrs:{tempproduct:t.tempproduct,status:t.status},on:{updateproduct:t.updateproduct}}),t._v(" "),a("Delete",{attrs:{tempproduct:t.tempproduct},on:{delData:t.delData}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{wight:"100"}},[t._v("分類")]),t._v(" "),a("th",[t._v("產品名稱")]),t._v(" "),a("th",{attrs:{wight:"100"}},[t._v("原價")]),t._v(" "),a("th",{attrs:{wight:"100"}},[t._v("售價")]),t._v(" "),a("th",{attrs:{wight:"30"}},[t._v("是否啟用")]),t._v(" "),a("th",[t._v("編輯/刪除")])])])}]},Z=a("VU/8")(Q,B,!1,null,null,null).exports,G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.submitPage()}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t._v(" "),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("輸入姓名不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",name:"phone",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t._v(" "),t.errors.has("phone")?a("span",{staticClass:"text-danger"},[t._v("收件人電話不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t._v(" "),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("收件人地址不得留空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._v(" "),t._m(0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[this._v("送出訂單")])])}]},K=a("VU/8")({data:function(){return{form:{user:{}},isLoading:!1}},methods:{submitPage:function(){var t=this;this.isLoading=!0,this.$validator.validate().then(function(e){if(e){var a={data:t.form};t.$http.post("https://vue-course-api.hexschool.io/api/yang/order",a).then(function(e){e.data.success&&t.$router.replace("/checkout/"+e.data.orderId)})}t.isLoading=!1})}}},G,!1,null,null,null).exports,X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"mb-3"},[a("h1",{staticClass:"text-center"},[t._v("結帳")]),t._v(" "),a("div",{staticClass:"form-row text-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm col-12"},[a("div",{staticClass:"alert alert-primary alert-border",class:{"alert-light":t.check},attrs:{role:"alert"}},[t._v("\n            2.金流付款\n          ")])]),t._v(" "),a("div",{staticClass:"col-sm col-12"},[a("div",{staticClass:"alert alert-primary alert-border",class:{"alert-light":!t.check},attrs:{role:"alert"}},[t._v("\n            3.完成\n          ")])])])]),t._v(" "),a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.order.products,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),a("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),a("tr",[a("th",[t._v("收件人電話")]),t._v(" "),a("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),a("tr",[a("th",[t._v("收件人地址")]),t._v(" "),a("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),a("tr",[a("th",[t._v("付款狀態")]),t._v(" "),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e(),t._v(" "),!0===t.order.is_paid?a("div",{staticClass:"text-right"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/products"}},[t._v("繼續逛逛")])],1):t._e()])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm col-12"},[e("div",{staticClass:"alert alert-light alert-border",attrs:{role:"alert"}},[this._v("\n            1.輸入訂單資料\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",[this._v("品名")]),this._v(" "),e("th",[this._v("數量")]),this._v(" "),e("th",[this._v("單價")])])}]},tt=a("VU/8")({data:function(){return{check:!1,isLoading:!1,orderid:"",order:{user:{}}}},created:function(){this.orderid=this.$route.params.id,this.get()},methods:{get:function(){var t=this,e="https://vue-course-api.hexschool.io/api/yang/order/"+this.orderid;this.$http.get(e).then(function(e){t.order=e.data.order})},payOrder:function(){var t=this;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/yang/pay/"+this.orderid;this.$http.post(e).then(function(e){e.data.success&&(t.check=!0,t.get()),t.isLoading=!1})}}},X,!1,null,null,null).exports,et={components:{CostomForm:K,checkout:tt},data:function(){return{data:{},isLoading:!1,coupons:"",hide:!0,isdisabled:!1,timeSender:null,time:3}},watch:{hide:function(){var t=this;this.timeSender=setInterval(function(){0===t.time&&t.$router.push("/products"),t.time-=1},1e3)}},created:function(){this.getCart()},beforeDestroy:function(){clearInterval(this.timeSender)},methods:{getCart:function(){var t=this;this.isLoading=!0;this.$http.get("https://vue-course-api.hexschool.io/api/yang/cart").then(function(e){0===e.data.data.carts.length&&(t.hide=!1),t.data=e.data.data,t.isLoading=!1})},removeCart:function(t){var e=this;this.isLoading=!0,this.isdisabled=!0;var a="https://vue-course-api.hexschool.io/api/yang/cart/"+t;this.$http.delete(a).then(function(t){t.data.success&&(e.getCart(),e.isLoading=!1,e.isdisabled=!1)})},UseCoupons:function(){var t=this;this.isLoading=!0;var e={data:{code:this.coupons}};this.$http.post("https://vue-course-api.hexschool.io/api/yang/coupon",e).then(function(e){t.getCart(),t.isLoading=!1})}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"container"},[t.hide?a("div",[t._m(0),t._v(" "),t.hide?a("div",[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.data.carts,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button",disabled:t.isdisabled},on:{click:function(a){return t.removeCart(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v("\n                "+t._s(e.product.title)+"\n                "),e.coupon?a("div",{staticClass:"text-success"},[t._v("\n                  已套用優惠券\n                ")]):t._e()]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.data.total))])]),t._v(" "),t.data.final_total!==t.data.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),t._v(" "),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t.data.final_total))])]):t._e()])]),t._v(" "),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupons,expression:"coupons"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupons},on:{input:function(e){e.target.composing||(t.coupons=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.UseCoupons()}}},[t._v("\n              套用優惠碼\n            ")])])]),t._v(" "),a("CostomForm")],1):t._e()]):a("div",{staticClass:"text-center h3 d-flex align-items-center justify-content-center",staticStyle:{height:"500px"}},[a("div",{staticClass:"d-flex align-items-center flex-column"},[a("span",[t._v("沒有選購任何商品"+t._s(t.time)+"秒後跳回商品頁...")]),t._v(" "),a("span",[t._v("\n          沒有回應時請點\n          "),a("router-link",{attrs:{to:"/products"}},[t._v("商品頁")])],1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"mt-3"},[e("div",{staticClass:"container mb-3"},[e("h1",{staticClass:"text-center"},[this._v("結帳")]),this._v(" "),e("div",{staticClass:"form-row text-center"},[e("div",{staticClass:"col-sm col-12"},[e("div",{staticClass:"alert alert-primary alert-border",attrs:{role:"alert"}},[this._v("\n                1.輸入訂單資料\n              ")])]),this._v(" "),e("div",{staticClass:"col-sm col-12"},[e("div",{staticClass:"alert alert-light alert-border",attrs:{role:"alert"}},[this._v("\n                2.金流付款\n              ")])]),this._v(" "),e("div",{staticClass:"col-sm col-12"},[e("div",{staticClass:"alert alert-light alert-border",attrs:{role:"alert"}},[this._v("\n                3.完成\n              ")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th"),this._v(" "),e("th",[this._v("品名")]),this._v(" "),e("th",[this._v("數量")]),this._v(" "),e("th",[this._v("單價")])])}]},st=a("VU/8")(et,at,!1,null,null,null).exports,it=a("mvHQ"),rt=a.n(it),nt={data:function(){return{getmonth:"",getyear:"",month:null}},watch:{getyear:function(){var t=(new Date).getFullYear(),e=(new Date).getMonth()+1;this.getyear===t?this.month=e:this.month=12}},computed:{selectYear:function(){for(var t=[],e=(new Date).getFullYear(),a=(new Date).getFullYear()-5;a<=e;a++)t.push(a);return t}},methods:{changeMonth:function(){this.$emit("changeMonth",this.getyear,this.getmonth)},clear:function(){this.getmonth="",this.getyear="",this.changeMonth()}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.getyear,expression:"getyear"}],staticClass:"\n         custom-select\n         col-lg-4\n         mr-2",attrs:{id:"inputGroupSelect01"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.getyear=e.target.multiple?a:a[0]},function(e){return t.changeMonth(t.getyear,t.getmonth)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("請選擇年份")]),t._v(" "),t._l(t.selectYear,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.getmonth,expression:"getmonth"}],staticClass:"custom-select col-lg-4 mr-2",attrs:{id:"inputGroupSelect02"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.getmonth=e.target.multiple?a:a[0]},function(e){return t.changeMonth(t.getyear,t.getmonth)}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("請選擇月份")]),t._v(" "),t._l(t.month,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.clear()}}},[t._v("清除欄位")])])])},staticRenderFns:[]},lt=a("VU/8")(nt,ot,!1,null,null,null).exports,ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectname,expression:"selectname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入名稱","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.selectname},on:{input:function(e){e.target.composing||(t.selectname=e.target.value)}}})])},staticRenderFns:[]},dt=a("VU/8")({data:function(){return{selectname:""}},watch:{selectname:"select"},methods:{select:function(){this.$emit("select",this.selectname)}}},ct,!1,null,null,null).exports,ut={props:["ary","makeout"],data:function(){return{nowpage:1,limit:10,TotalLength:0,PageData:[],totalpage:0}},watch:{TotalLength:function(){this.sortdata(),this.pagedata(1)},ary:{handler:"Datadefault",immediate:!0}},computed:{TotalPage:function(){return Math.ceil(this.ary.length/this.limit)},limitPage:function(){var t=[],e=Math.ceil(this.ary.length/this.limit);if(!(e<=0)){if(this.nowpage<=3){var a=5;e<=5&&(a=e);for(var s=1;s<=a;s++)t.push(s);return t}if(this.nowpage>=3&&this.nowpage<e-2){for(var i=this.nowpage-2;i<=this.nowpage+2;i++)t.push(i);return t}if(this.nowpage>=e-2){for(var r=this.nowpage-2;r<=e;r++)t.push(r);return t}}}},methods:{Datadefault:function(){this.TotalLength=this.ary.length,this.totalpage=Math.ceil(this.ary.length/this.limit)},pagedata:function(t){if(this.PageData=[],0!==this.ary.length){t<=0?t=1:t>=this.totalpage&&(t=this.totalpage),this.nowpage=t;var e=(t-1)*this.limit,a=t*this.limit;a>=this.TotalLength&&(a=this.TotalLength);for(var s=e;s<a;s++)this.PageData.push(this.ary[s]);this.$emit("getPageData",this.PageData)}},scroolpage:function(t){if(this.pagedata(t),"product"===this.makeout){var e=W()(".l-scrool"),a=e.offset().top,s=e.outerHeight(!0)-e.outerHeight(),i=W()(".nav-fixed").height();W()(window).scrollTop(a-i-s)}else W()(window).scrollTop(0)},sortdata:function(){var t=this;this.ary.sort(function(e,a){return"pay"===t.makeout?a.is_paid-e.is_paid:"enable"===t.makeout?(e.is_enabled=e.is_enabled?e.is_enabled:0,a.is_enabled=a.is_enabled?a.is_enabled:0,a.is_enabled-e.is_enabled):e.origin_price-a.origin_price})}}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[t.ary.length?a("li",{staticClass:"page-item",class:{disabled:1===t.nowpage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.scroolpage(t.nowpage-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t._v(" "),t._l(t.limitPage,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.nowpage===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.scroolpage(e)}}},[t._v(t._s(e))])])}),t._v(" "),t.ary.length?a("li",{staticClass:"page-item",class:{disabled:t.nowpage===t.TotalPage}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.scroolpage(t.nowpage+1)}}},[a("span",{attrs:{"aria-hidden":"\n             true"}},[t._v("»")])])]):t._e()],2)])])},staticRenderFns:[]},vt=a("VU/8")(ut,pt,!1,null,null,null).exports,mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t.tempCoupon.id?a("div",{staticClass:"modal-header bg-warning text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("編輯優惠卷")]),t._v(" "),t._m(0)]):a("div",{staticClass:"modal-header bg-primary text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("新增優惠卷")]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}}),t._v(" "),t.errors.has("title")?a("span",{staticClass:"text-danger"},[t._v("標題不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",name:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}}),t._v(" "),t.errors.has("coupon_code")?a("span",{staticClass:"text-danger"},[t._v("優惠碼不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"due_date"}},[t._v("到期日")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date",name:"due_date"},domProps:{value:t.due_date},on:{input:function(e){e.target.composing||(t.due_date=e.target.value)}}}),t._v(" "),t.errors.has("due_date")?a("span",{staticClass:"text-danger"},[t._v("日期不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"price",name:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",e.target.value)}}}),t._v(" "),t.errors.has("price")?a("span",{staticClass:"text-danger"},[t._v("折扣百分比不得為空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(e){var a=t.tempCoupon.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",a.concat([null])):r>-1&&t.$set(t.tempCoupon,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                是否啟用\n              ")])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.updateCoupons()}}},[t._v("更新優惠券")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},ht=a("VU/8")({props:["tempCoupon"],data:function(){return{due_date:""}},watch:{tempCoupon:function(){this.errors.clear()}},methods:{updateCoupons:function(){var t=this;this.$validator.validate().then(function(e){e&&(t.$emit("updateCoupons",t.due_date),t.due_date="")})}}},mt,!1,null,null,null).exports,_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.DeleteData(t.tempCoupon.id)}}},[t._v("確認刪除")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("刪除產品")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},gt=a("VU/8")({props:["tempCoupon"],methods:{DeleteData:function(t){this.$emit("DeleteData",t)}}},_t,!1,null,null,null).exports,ft={components:{alert:y,NavDate:lt,NavSelect:dt,pages:vt,AddModal:ht,DelModal:gt},data:function(){return{pay:"enable",isLoading:!1,getCoupon:[],ary:[],pagedata:[],tempCoupon:{},newold:!0}},created:function(){this.getcoupons()},methods:{getcoupons:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.getCoupon=[];var a="https://vue-course-api.hexschool.io/api/yang/admin/coupons?page="+e;this.$http.get(a).then(function(e){if(!1!==e.data.success){for(var a=e.data.pagination.total_pages,s=function(e){var a="https://vue-course-api.hexschool.io/api/yang/admin/coupons?page="+e;setTimeout(function(){t.$http.get(a).then(function(e){e.data.coupons.forEach(function(e){t.getCoupon.push(e)})}).catch(function(t){console.log(t)})},60*e)},i=1;i<=a;i++)s(i);t.ary=t.getCoupon,setTimeout(function(){t.isLoading=!1},60*a)}else t.isLoading=!1}).catch(function(t){console.log(t)})},openCouponModal:function(t,e){!0===t?(this.tempCoupon={},this.newold=!0):(this.tempCoupon=j()({},e),this.newold=!1),W()("#couponModal").modal("show")},updateCoupons:function(t){var e=this;this.$validator.validate().then(function(a){if(a){e.isLoading=!0;var s=new Date(t).getTime();e.tempCoupon.due_date=s;var i="post",r="https://vue-course-api.hexschool.io/api/yang/admin/coupon";!1===e.newold&&(r="https://vue-course-api.hexschool.io/api/yang/admin/coupon/"+e.tempCoupon.id,i="put");var n={data:e.tempCoupon};e.$http[i](r,n).then(function(t){t.data.success?(W()("#couponModal").modal("hide"),e.getcoupons(),e.$bus.$emit("message:push",t.data.message,"success")):(W()("#couponModal").modal("hide"),e.getcoupons(),e.$bus.$emit("message:push",t.data.message,"danger")),e.isLoading=!1})}})},DelCouponModal:function(t){this.tempCoupon=j()({},t),W()("#delCouponModal").modal("show")},DeleteData:function(t){var e=this;this.isLoading=!0;var a="https://vue-course-api.hexschool.io/api/yang/admin/coupon/"+t;this.$http.delete(a).then(function(t){t.data.success?(W()("#delCouponModal").modal("hide"),e.getcoupons(),e.$bus.$emit("message:push",t.data.message,"success")):(W()("#delCouponModal").modal("hide"),e.getcoupons(),e.$bus.$emit("message:push",t.data.message,"danger")),e.isLoading=!1})},changeMonth:function(t,e){var a=JSON.parse(rt()(this.getCoupon)).map(function(t){var e=new Date(t.due_date),a=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();return t.due_date=a,t});if(""!==t||""!==e){var s=a.filter(function(a){var s=a.due_date.split("/");if(e){if(Number(s[0])===t&&Number(s[1])===e)return a}else if(Number(s[0])===t)return a});this.ary=s}else this.getcoupons()},select:function(t){if(this.ary=[],""===t)this.ary=this.getCoupon;else{var e=this.getCoupon.filter(function(e,a,s){return-1!==e.title.indexOf(t)});this.ary=e}},getPageData:function(t){this.pagedata=t}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("alert"),t._v(" "),a("div",{staticClass:"container mt-4"},[a("Loading",{staticStyle:{"z-index":"9999"},attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"row"},[a("NavDate",{staticClass:"col-lg-5",on:{changeMonth:t.changeMonth}}),t._v(" "),a("NavSelect",{staticClass:"col-lg-3",on:{select:t.select}}),t._v(" "),a("div",{staticClass:"text-right col-lg-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openCouponModal(!0)}}},[t._v("\n          建立新的優惠券\n        ")])])],1),t._v(" "),a("div",{staticClass:"text-center h3 mt-2"},[t._v("已搜尋到"+t._s(t.ary.length)+"筆")]),t._v(" "),t.ary.length?a("div",{staticClass:"mt-2"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",t._l(t.pagedata,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.percent)+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("DateFilter")(e.due_date)))]),t._v(" "),a("td",[1===e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",{staticClass:"text-muted"},[t._v("未起用")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openCouponModal(!1,e)}}},[t._v("編輯")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.DelCouponModal(e)}}},[t._v("刪除")])])])}),0)]),t._v(" "),a("pages",{attrs:{ary:t.ary,makeout:t.pay},on:{getPageData:t.getPageData}})],1):a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-center h1"},[t._v("\n        無任何資料\n      ")])]),t._v(" "),a("AddModal",{attrs:{tempCoupon:t.tempCoupon},on:{updateCoupons:t.updateCoupons}}),t._v(" "),a("DelModal",{attrs:{tempCoupon:t.tempCoupon},on:{DeleteData:t.DeleteData}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("名稱")]),t._v(" "),a("th",[t._v("折扣百分比")]),t._v(" "),a("th",[t._v("到期日")]),t._v(" "),a("th",[t._v("是否啟用")]),t._v(" "),a("th",[t._v("編輯")])])])}]},bt=a("VU/8")(ft,Ct,!1,null,null,null).exports,xt={data:function(){return{pay:"pay",orders:[],ary:[],pagedata:[],isLoading:!1}},components:{NavDate:lt,NavSelect:dt,pages:vt},created:function(){this.get()},methods:{get:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.orders=[],this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/yang/admin/orders?page="+vt;this.$http.get(e).then(function(e){if(!1!==e.data.success){for(var a=e.data.pagination.total_pages,s=function(e){var a="https://vue-course-api.hexschool.io/api/yang/admin/orders?page="+e;setTimeout(function(){t.$http.get(a).then(function(e){e.data.orders.forEach(function(e){e.create_at=Number(1e3*e.create_at),t.orders.push(e)})}).catch(function(t){console.log(t)})},60*e)},i=1;i<=a;i++)s(i);t.ary=t.orders,setTimeout(function(){t.isLoading=!1},60*a)}else t.isLoading=!1})},changeMonth:function(t,e){var a=JSON.parse(rt()(this.orders)).map(function(t){var e=new Date(t.create_at),a=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();return t.create_at=a,t});if(""!==t||""!==e){var s=a.filter(function(a){var s=a.create_at.split("/");if(e){if(Number(s[0])===t&&Number(s[1])===e)return a}else if(Number(s[0])===t)return a});this.ary=s.slice(0)}else this.get()},select:function(t){if(this.ary=[],""===t)this.ary=this.orders;else{var e=this.orders.filter(function(e,a,s){return-1!==e.user.email.indexOf(t)});this.ary=e.slice(0)}},getPageData:function(t){this.pagedata=t}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container mt-4"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"row"},[a("NavDate",{staticClass:"col-lg-8",on:{changeMonth:t.changeMonth}}),t._v(" "),a("NavSelect",{staticClass:"col-lg-4",on:{select:t.select}})],1),t._v(" "),a("div",{staticClass:"text-center h3 mt-2"},[t._v("已搜尋到"+t._s(t.ary.length)+"筆")]),t._v(" "),t.ary.length?a("div",{staticClass:"mt-2"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",t._l(t.pagedata,function(e,s){return a("tr",{key:s,class:{"text-secondary":!e.is_paid}},[a("td",[t._v(t._s(t._f("DateFilter")(e.create_at)))]),t._v(" "),a("td",[e.user?a("span",{domProps:{textContent:t._s(e.user.email)}}):t._e()]),t._v(" "),a("td",[a("ul",{staticClass:"list-unstyled"},t._l(e.products,function(e,s){return a("li",{key:s},[t._v("\n                  "+t._s(e.product.title)+" 數量："+t._s(e.qty)+"\n                  "+t._s(e.product.unit)+"\n                ")])}),0)]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))]),t._v(" "),a("td",[e.is_paid?a("strong",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-muted"},[t._v("尚未起用")])])])}),0)]),t._v(" "),a("pages",{attrs:{ary:t.ary,makeout:t.pay},on:{getPageData:t.getPageData}})],1):a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-center h1"},[t._v("\n        無任何資料\n      ")])])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("購買時間")]),t._v(" "),a("th",[t._v("Email")]),t._v(" "),a("th",[t._v("購買款項")]),t._v(" "),a("th",[t._v("應付金額")]),t._v(" "),a("th",[t._v("是否付款")])])])}]},wt=a("VU/8")(xt,yt,!1,null,null,null).exports,$t={components:{pages:vt},props:["active"],data:function(){return{ary:[],pageproduct:[],products:[],product:{},addtoCartload:"",searchname:"",isLoading:!1}},created:function(){this.getProducts()},watch:{active:function(){this.getProducts();var t=W()(".l-scrool"),e=t.offset().top,a=W()(".nav-fixed").height(),s=t.outerHeight(!0)-t.outerHeight();W()(window).scrollTop(e-a-s)}},methods:{getProducts:function(t){var e=this;this.products=[],this.isLoading=!0;var a="https://vue-course-api.hexschool.io/api/yang/products?page="+(t||1);this.$http.get(a).then(function(t){for(var a=t.data.pagination.total_pages,s=function(t){var a="https://vue-course-api.hexschool.io/api/yang/products?page="+t;setTimeout(function(){e.$http.get(a).then(function(t){"all"===e.active?t.data.products.forEach(function(t){1===t.is_enabled&&e.products.push(t)}):t.data.products.forEach(function(t){1===t.is_enabled&&-1!==t.category.indexOf(e.active)&&e.products.push(t)}),e.products.forEach(function(t){"水果"===t.category?t.color="badge-success":"飲料"===t.category&&(t.color="badge-info")}),e.ary=e.products,e.isLoading=!1})},50*t)},i=1;i<=a;i++)s(i)})},addtoCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addtoCartload=t;var s={data:{product_id:t,qty:a}};this.$http.post("https://vue-course-api.hexschool.io/api/yang/cart",s).then(function(t){e.addtoCartload="",t.data.success?e.$bus.$emit("message:push",t.data.message,"success"):e.$bus.$emit("message:push",t.data.message,"danger"),e.$getcart.$emit("get")})},getPageData:function(t){this.pageproduct=t},search:function(){var t=this;this.ary=[],""!==this.searchname&&(this.ary=this.products.filter(function(e){return-1!==e.title.indexOf(t.searchname)}))},gotoproduct:function(t){this.$router.push("/products/"+t)}}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"input-group mb-3 mt-3 mt-lg-0"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchname,expression:"searchname",modifiers:{trim:!0}}],staticClass:"form-control w-75",attrs:{type:"text",placeholder:"搜尋商品"},domProps:{value:t.searchname},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.searchname=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-brown",attrs:{type:"submit"},on:{click:function(e){return t.search()}}},[t._v("搜尋")])])]),t._v(" "),t.ary.length?a("div",[a("div",{staticClass:"text-center h3"},[t._v("已搜尋到"+t._s(t.ary.length)+"個商品")]),t._v(" "),a("div",{staticClass:"row"},t._l(t.pageproduct,function(e){return a("div",{key:e.id,staticClass:"col-lg-6 col-xl-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm h-100 l-card"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}}),t._v(" "),a("div",{staticClass:"card-body d-flex flex-column"},[a("div",{staticClass:"title d-flex justify-content-between align-items-center mb-3"},[a("h5",{staticClass:"card-title mb-0"},[a("span",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),t._v(" "),a("h6",{staticClass:"mb-0"},[a("span",{staticClass:"badge badge-secondary ml-2",class:e.color},[t._v(t._s(e.category))])])]),t._v(" "),a("p",{staticClass:"card-text body"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"footer d-flex justify-content-between align-items-baseline"},[e.origin_price?t._e():a("div",{staticClass:"h5"},[t._v("售價 "+t._s(e.price)+" 元")]),t._v(" "),e.origin_price?a("del",{staticClass:"h6 text-secondary"},[t._v("原價 "+t._s(e.origin_price)+" 元")]):t._e(),t._v(" "),e.origin_price?a("div",{staticClass:"h5 text-dorange"},[t._v("特價 "+t._s(e.price)+" 元")]):t._e()])]),t._v(" "),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.gotoproduct(e.id)}}},[t._v("\n                查看更多\n              ")]),t._v(" "),a("button",{staticClass:"btn btn-outline-Lorange btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(e.id)}}},[t.addtoCartload===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                加到購物車\n              ")])])])])}),0)]):a("div",{staticClass:"h3 text-center vh-100"},[t._v("\n    沒有符合的商品\n  ")]),t._v(" "),a("pages",{attrs:{ary:t.ary,makeout:"product"},on:{getPageData:t.getPageData}})],1)},staticRenderFns:[]},Pt={data:function(){return{active:"all"}},components:{card:a("VU/8")($t,kt,!1,null,null,null).exports,alert:y},methods:{choose:function(t){this.active=t}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products-bg"},[t._m(0),t._v(" "),a("section",{staticClass:"mt-5 l-scrool"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"list-group sticky-top",staticStyle:{top:"66px"}},[a("a",{staticClass:"list-group-item list-group-item-action rounded-0",class:{active:"all"===t.active},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.choose("all")}}},[a("i",{staticClass:"fas fa-briefcase"}),t._v("\n              所有商品")]),t._v(" "),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:"水果"===t.active},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.choose("水果")}}},[a("i",{staticClass:"fab fa-apple fa-lg"}),t._v("水果")]),t._v(" "),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:"飲料"===t.active},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.choose("飲料")}}},[a("i",{staticClass:"fas fa-cocktail"}),t._v("飲料")])])]),t._v(" "),a("div",{staticClass:"col-lg-9"},[a("card",{attrs:{active:t.active}})],1)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bd-example"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleCaptions","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}}),t._v(" "),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),t._v(" "),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})]),t._v(" "),a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("div",{staticClass:"bg-cover vh-100",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1464297162577-f5295c892194?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80')"}}),t._v(" "),a("div",{staticClass:"carousel-caption d-none d-md-block"},[a("h5",{staticClass:"h2"},[t._v("細心栽種")]),t._v(" "),a("p",{staticClass:"px-5"},[t._v("屏除農藥、化學肥料、基因改造作物、植物生長調節劑等非天然物質的使用。是一個無論是土壤、生態體系及人類三者的健康均能夠維持永續（可持續發展）的生產系統。這系統有賴生態上的過程、多元性及適應當地環境的循環，用以克服各種發展上的困難，而不是仰賴外間的介入")])])]),t._v(" "),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"bg-cover vh-100",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1423483641154-5411ec9c0ddf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80')"}}),t._v(" "),a("div",{staticClass:"carousel-caption d-none d-md-block"},[a("h5",{staticClass:"h2"},[t._v("無噴灑農藥")]),t._v(" "),a("p",{staticClass:"px-5"},[t._v("您知道每次噴灑農藥，當中只有很少一部分真正用於除蟲嗎？其餘絕大部分的農藥，卻全部成為環境污染物，滲進土裡、流到水裡、揮發於空氣中，不僅威脅到生物多樣性，最終還可經由各種型態進入人體，危害我們的健康。")])])]),t._v(" "),a("div",{staticClass:"carousel-item"},[a("div",{staticClass:"bg-cover vh-100",staticStyle:{"background-image":"url('https://images.unsplash.com/photo-1544144683-bf1749166af3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80')"}}),t._v(" "),a("div",{staticClass:"carousel-caption d-none d-md-block"},[a("h5",{staticClass:"h2"},[t._v("大顆又多汁")]),t._v(" "),a("p",{staticClass:"px-5"},[t._v("不惜耗費任何成本研究，大還要更大，全台灣最大的水果")])])])]),t._v(" "),a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])]),t._v(" "),a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])])])}]},Et=a("VU/8")(Pt,Lt,!1,null,null,null).exports,Dt={components:{alert:y},data:function(){return{Product:{},ProductId:"",error:"",addtoCartload:!1,isLoading:!1}},created:function(){this.ProductId=this.$route.params.id,this.getProduct()},methods:{getProduct:function(){var t=this;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/yang/product/"+this.ProductId;this.$http.get(e).then(function(e){e.data.success?(e.data.product.num=1,t.Product=e.data.product):t.error=e.data.message,t.isLoading=!1})},addCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addtoCartload=!0;var s={data:{product_id:t,qty:a}};this.$http.post("https://vue-course-api.hexschool.io/api/yang/cart",s).then(function(t){t.data.success?e.$bus.$emit("message:push",t.data.message,"success"):e.$bus.$emit("message:push",t.data.message,"danger"),e.addtoCartload=!1})}}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("alert"),t._v(" "),t.Product?a("section",{staticClass:"mt-3"},[a("div",{staticClass:"container"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb bg-transparent px-0"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/products"}},[t._v("商品")])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.Product.title))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"sticky-top"},[a("h1",{staticClass:"h2"},[t._v(t._s(t.Product.title))]),t._v(" "),a("div",{staticClass:"d-flex justify-content-end align-items-end"},[t.Product.origin_price?a("del",{staticClass:"text-secondary"},[t._v("原價 $"+t._s(t.Product.origin_price))]):t._e(),t._v(" "),t.Product.origin_price?t._e():a("div",{staticClass:"ml-auto text-danger h3 mb-0"},[a("small",[t._v("售價")]),t._v(" "),a("strong",[t._v("NT$ "+t._s(t.Product.price))])]),t._v(" "),t.Product.origin_price?a("div",{staticClass:"ml-auto text-danger h3 mb-0"},[a("small",[t._v("特價")]),t._v(" "),a("strong",[t._v("NT$ "+t._s(t.Product.price))])]):t._e()]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Product.num,expression:"Product.num"}],staticClass:"form-control mr-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.Product,"num",e.target.multiple?a:a[0])}}},t._l(10,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+t._s(t.Product.unit))])}),0),t._v(" "),a("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addCart(t.Product.id,t.Product.num)}}},[t.addtoCartload?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                加入購物車")])]),t._v(" "),t.Product.price?a("div",{staticClass:"text-right h5"},[t._v("總價:NT$ "+t._s(t.Product.num*t.Product.price))]):a("div",{staticClass:"text-right h5"},[t._v("總價:NT$ "+t._s(t.Product.num*t.Product.origin_price))])])]),t._v(" "),a("div",{staticClass:"col-lg-8"},[a("h2",[t._v("夏天消暑必備")]),t._v(" "),a("p",[t._v("This is a longer card with supporting text below as a natural lead-in to additional content. This\n            content is a little bit longer.")]),t._v(" "),a("img",{staticClass:"w-100",attrs:{src:t.Product.imageUrl,alt:""}})])])])]):t._e()],1)},staticRenderFns:[]},Mt=a("VU/8")(Dt,Nt,!1,null,null,null).exports;s.a.use(h.a);var qt=new h.a({routes:[{path:"*",redirect:"/index"},{name:"登入",path:"/login",component:F},{name:"後台",path:"/admin",component:A,meta:{requiresAuth:!0},children:[{path:"products",component:Z,meta:{requiresAuth:!0}},{path:"orderlist",component:wt,meta:{requiresAuth:!0}},{path:"coupons",component:bt,meta:{requiresAuth:!0}}]},{path:"/index",component:k,children:[{path:"",component:q},{path:"/products",component:Et}]},{path:"/products/:id",component:Mt},{path:"/cart",component:st},{path:"/checkout/:id",component:tt}]});s.a.prototype.$bus=new s.a,s.a.prototype.$getcart=new s.a;var Ut=this;s.a.use(o.a,r.a),s.a.use(d.a,{events:"blur"}),d.a.Validator.localize("zh_TW",p.a),s.a.config.productionTip=!1,r.a.defaults.withCredentials=!0,s.a.component("Loading",c.a),s.a.filter("currency",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,e,a){return e&&"."!==t&&(a.length-e)%3==0?(", "+t).replace(/\s/g,""):t})}),s.a.filter("DateFilter",function(t){return new Date(t).getFullYear()+"/"+(new Date(t).getMonth()+1)+"/"+new Date(t).getDate()}),qt.afterEach(function(){window.scrollTo(0,0)}),new s.a({el:"#app",components:{App:m},template:"<App/>",router:qt}),qt.beforeEach(function(t,e,a){if(t.meta.requiresAuth){r.a.post("https://vue-course-api.hexschool.io/api/user/check",Ut.user).then(function(t){t.data.success?a():a({path:"/login"})})}else a()})},SYh3:function(t,e){},WqwM:function(t,e){},ao2D:function(t,e){},bmPI:function(t,e){},ioZz:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.62d351ec8d2b24203d51.js.map